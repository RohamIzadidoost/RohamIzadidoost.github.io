---
layout: posts
title: project
---
## project
به نام خدا. 

شروع پروژه برای من درک منطق و پایه آن بود و به جای مطالعه سعی کردم خود به ان برسم. مپ کردن عدد مختلط به مختصات و رنگ امیزی بر حسب ایتریشن ایده های جالبی بود.

مرحله بعد درک کد پایتون و بازی با کد پایتون بود. با پایتون ژولیا ست و رنگ امیزی های مختلف را امتحان کردم.  
  
  
   <img src="/assets/Pyjul.jpg" alt="FJUL" style="height: 500px; width:500px;"/>

  


بعد از متوجه شدن کد پایتون و پایه های پروژه به سراغ کد با سی رفتم. کار با بیتمپ و چندین هدرفایل ناملموس و چالش برانگیز بود. در مورد بیتمپ خواندم و ساخته شدن عکس ساده یا خالی با بیتمپ را فهمیدم. 
در مراحل اول سعی در ثبت مراحلی که برای انجام پروژه نیاز داشتم کردم چراکه با مستقیم سمت کد رفتن گیچ میشدم. در قدم اول استراکتی برای عدد مختلط نوشتم و توابع اعمال لازم برای اعداد مختلط را پیاده سازی کردم.  
سپس محاسبه ایتریشن ها را هندل کردم و با کامل کردن تابع اپدیت تصویر تلاش کردم عکس اولیه مندل رو بسازم. قطعا سخت ترین بخش پروژه رسیدن به عکس اولیه بود.
مشکلاتی تو ران کردن اولیه بود چون تا یه مقدار خوبی از بخش ها انجام نمیشد و کامل نمیشد امکان ران کردن و ساخت تصویر اولیه وجود نداشت. یکی از مشکلات ها ست نشدن مقدار های دیفالت بود. یکی دیگه از مشکل ها با خوندن از کانفیگ فایل بود و چون رنگ امیزی کامل رو بلد نبودم از اول انجام بدم برای شروع با دو رنگ کار رو انجام د ادم. 
  
     
  <img src="/assets/firstmandel.jpg" alt="First mandel" style="height: 500px; width:500px;"/>


بعد از گرفتن تصویر اولیه بسیار خوشحال و خرسند شدم و به نظرم ماکسیمم قله پروژه از نظر سربالایی بودن همین بخش بود. روون و زیبا بقیه توابع پروژه اولیه پیاده سازی شدند و مشکلی در انجامشون وجود نداشت با کمی نوشتن و ریاضی بازی هندل میشدند.  
با کانفیگ های اولیه فریم ها ساخته شدند و فیلم اول رو ساحتم. مشگلی که پیش میومد این بود که در فیلم رنگ تصاویر خراب میشد.  
  
  <img src="/assets/FBUG.jpg" alt="ffmpeg BUG" style="height: 500px; width:500px;"/>
  
 که اینجا نقطه ای بود که نتونستم هندل کنم و رفتم پیش دکتر برای کمک. تو روز اول هندل نشد و تعداد زیادی ترکیب فشرده سازی های مختلف با سیستم های رنگی مختلف رو به امید درست شدنش تست کردم. 
 با کمی سرچ به این احتمال رسیدم که شاید مشکل از دیتاهایی هستش که تو فایل های فریم ها جز پیکسل ها باید باشه ینی مثلا هدر و نیست و با دکتر در میون گذاشتم. بررسی کردند و گویا تعداد رنگ های مهمی که بیتمپ لحاظ میکرد کم بود و روش درست کردنش رو گفتند. تا این مشکل درست شه رنگ امیزی هم درست کرده بودم و طیف و هاله های زیبا و جالبی ساخته شده بود و فاز۱ پروژه این نقطه تموم شد. 
 <img src="/assets/FFD.jpg" alt="FFD" style="height: 500px; width:500px;"/>
   
مدتی روی درست کردن کانفیگ وقت گذاشتم و بعد سراغ موزیک رفتم و فیلم های جالبی ساختم. بعد سراغ اپدیت بیشتر رفتم و تابعی برای ساختن ژولیا نوشتم. 
زشت میشد مستقیم از مندل به ژولیا میرفتم بنابراین تابعی نوشتم که بخش نور رنگ امیزی رو تغییر میداد. به استیتم متغیر هاش رو اضافه کردم و هر سری که تصویر اپدیت میشد نورش رو با یه استپی کم میکردم. با این تابع با مندل که کار تموم میشد تصویر به صورت فید سیاه میکردم و بعد دوباره نرم تصویر رو روشن میکردم و رو ژولیا مانور میدادم.

 <img src="/assets/mandeldark.jpg" alt="FFD" style="height: 500px; width:500px;"/>
 <img src="/assets/juliacomes.jpg" alt="FFD" style="height: 500px; width:500px;"/>
 
 واسه رشد هیجانش ترکیب توابع رو امتحان کردم و خب تابعی نوشتم که همزمان با ساختن ژولیا زوم هم میکرد. آها ژولیا ساختنم هم بدین صورت بود که استپ استپ به سمت یه ژولیایی حرکت میکردم و هر فریم یه ژولیای جدید ساخته میشد. 
 بعد باز رو موزیک وقت گذاشتم و سعی کردم ویولنسل وارد بازی کنم یا از موسیقی یک بازی که خیلی خوشم اومده بود الهام بگیرم و مدتی هم پشت پیانوم سعی کردم چیزی در بیارم. ولی نتایج نه دلچسب بود و نه هماهنگ. 
 پیوسته ساعت هام رو پروژه میگذشت و رنگ امیزیش و پیدا کردن نقطه های جالب و ساختن کانفیگ خوب و بالانس کردن موزیک. باگ این بود که همش هاله های رنگ امیزی تصویر خراب میشد. نهایتا از تابع اولیه رنگ امیزیم واسه توزیع عددا استفاده کردم و عدد رو ازون میگرفتم و برای قرمز ابی سبز ضریب های متغیری درست کردم که عدده رو با یه نسبتی به قرمز ابی و سبز میدادم. خلاصه این شکلی رنگ امیزی داینامیک هم حاصل شد. 
 
 <img src="/assets/dc1.jpg" alt="FFD" style="height: 500px; width:500px;"/>
 <img src="/assets/dc2.jpg" alt="FFD" style="height: 500px; width:500px;"/>
 
 رو ترکیب توابع باز هم کار کردم و به مشکل خوردم و رفتم رو موزیک. برای هر تابع تو سونیک هم اهنگ جدا ساختم و عملا کانفیگ رو به سونیک هم اضافه کردم. ولی دستی هم موزیکی داشت و اهنگ پروژه صرف توابع تو سونیک نبود. به توابع داخل سونیک تعداد فریم میدادم. 
 بافی تایم هم روی درست کردن کانفیگ نهایی گذشت فکر میکنم. پیدا کردن ژولیای خوب و نقطه های جالب.   
 درست کردن این پروژه مسیر خوبی بود و دیدن همزمان جلوه ی بصری و گوش دادن به نتیجه ی کد دلچسب بود.فکر میکنم روز ۲۰ پروژه رد شده باشه. نو گیت بودن پروژه هم که خب مفید و الزامش هم که بدیهی بود. معذرت بابت پرحرفی حقیر. لذت بردیم و خوش گذشت.
-  
  
  -رهام ایزدی دوست. 

بهمن ۱۴۰۱
